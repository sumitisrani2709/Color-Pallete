<%= form_for(palette) do |f| %>
  <p>
    <b>Name</b><br>
    <%= f.text_field :name, class: 'form-control', required: true %>
  </p>
  <p>
    <b>Choose Color</b><%= link_to "Add a new color", new_color_path, class: 'pull-right', remote: true %><br>
    <%= select_tag "color_ids", options_from_collection_for_select(Color.all, :id, :name, f.object.colors.pluck(:id)), { class: 'form-control', id: 'list-colors', multiple: true, required: true  } %> 
  </p>
  <p>
    <%= f.submit class: 'btn btn-success' %>
  </p>
<% end %>
<%= render partial: "/colors/new_modal" %>
<script>
  $(document).ready(function() {
    $("#list-colors").select2({
      placeholder: "Select colors",
      theme: "bootstrap"
    });
  });
</script>